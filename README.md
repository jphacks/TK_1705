# あ、居なかったんで玄関先に置いときますね

[![Product Name](https://raw.github.com/GabLeRoux/WebMole/master/ressources/WebMole_Youtube_Video.png)](https://www.youtube.com/channel/UC4PtjOfZTbVp9DwtJv82Lzg)

## 製品概要
### 物流 X Tech


### 背景（製品開発のきっかけ、課題等）
2017年4月7日に宅配大手のヤマト運輸が，Web通販サービスのアマゾン・ジャパンの「当日配達サービス」からの撤退を検討しているというニュースがあり大変話題を呼んだ。この騒動のあとも各企業がこぞってサービス維持のための値上げを行ったり国内大手オークションサイトであるヤフオクが配送サービスである。
「はこBOON」の一時的なサービス休止を行うなど，宅配業界が過剰なまでの社会からの要求にこたえきれず，サービスを制限したり望まない値上げを行うことを余儀なくされている。
この原因として，不在配達による再配達のための経済的損失が大きいことがあげられる．ヤマト運輸，佐川急便，日本郵便の3社が実施した調査によると再配達率は平均で全配達率の19.6%であり，国土交通省の昨年の宅配データから算出するにおおよそ8億回もの再配達が行われていたことになる。


### 製品説明（具体的な製品の説明）
商品受け取り時，不在だった場合，商品を入れ，玄関先においておけるケース
ケースには盗難防止のため位置情報や近くにいる人などの情報をリアルタイムで商品受け取り側の通信端末に送信される。

### 特長

![System Image](https://github.com/jphacks/TK_1705/blob/master/image/jphacks2017_tk1705_01.png)

図は，実際に情報がユーザー側の端末に送信される様子を示したものである。
まず，人感センサで物体を感知すると自動的に写真が撮影されその画像データとGPSから得られた位置情報がAWSサーバに蓄積される。
そして，メールでユーザー側の通信端末に位置情報，写真が送信される。

#### 1. 特長1
Raspberry Piを用いているので電源はUSB供給でよい。
#### 2. 特長2
セキュリティのため，人感センサで人がいることを検知すると写真を撮るシステム（無駄に電力やデータメモリを消費しない）
#### 3. 特長3
セキュリティ強化のため，ユーザがもつ端末からデバイスの位置情報がリアルタイムでわかる。また，ユーザの顔を登録しておけば，NECのAPIで顔認証を行いユーザの顔であると判断した際はメールを送らないシステムにした。


### 解決出来ること
再配達を減らすことで，効率の良い物流を行うことができ，これが運送会社の残業時間の削減につながる。
ラズパイを積んだ箱の回収については，コンビニ等で一括して回収を行えば，再配達に比べてかなり効率的なシステムになる。
さらにこのシステムを用いれば，コンビニは顧客の個人情報を扱う必要がなくなるので，コンビニの業務負担を大きく減らすことが可能である。


### 今後の展望
このシステムはセキュリティの問題が発生する。箱を簡単には壊せないものにするなどの方法があるが，今回はGPSを用いて受け取り側が荷物の位置情報を常に確認できるようにしようとした。
しかし，屋内での実装であったことと，GPSモジュールが比較的古いものであったことが原因で，通信の際GPSからの位置情報がnullとなってしまった。
したがって，モジュール全体を金属でおおわれてしまった場合は位置情報が読み取れない問題がある。

今後の展望としてNECのAPIでの顔認証を用いたキーロック解除が行えるようにしてきたい。

また，可能性としてケースを企業側ではなくユーザー側が持つということも考えられる。この場合，充電切れの問題がなくなりWi-Fiにつないでもらえればアップデートも容易にできる。
具体的には，ケースがいつも固定された位置に置かれているのでGPSで受け取った位置情報がそこからずれた場合，ユーザー側の端末に警告のメール、位置情報をおくるき機能をつければよい。しかし，この方法は玄関先に常に大幅な場所をとってしまう問題がある。


## 開発内容・開発技術
### 活用した技術
#### API・データ

* AWSをサーバーとして使用

#### フレームワーク・ライブラリ・モジュール

* カメラモジュール
* 人感センサ
* GPSセンサ

#### デバイス

* Raspberry Pi3
* ケース

### 研究内容・事前開発プロダクト（任意）

* 
* 


### 独自開発技術（Hack Dayで開発したもの）
#### 2日間に開発した独自の機能・技術
* Raspberry PiにGPSセンサーをつけて，位置情報をAWSにあげてiOSで確認できるようにした．
* Raspberry Piから人感センサに反応があった時に，写真をメールで送るようにした．
